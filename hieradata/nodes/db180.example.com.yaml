---
deployment_zone: vagrant

role: role::oradb::simple_db

# ------------------------------------------------------------------------------
#
#  Class overrides and additions
#
# ------------------------------------------------------------------------------
ora_profile::database::rman_config:                                       ~
ora_profile::database::fact_caching::enabled:                             true


# ------------------------------------------------------------------------------
#
#  Settings for database
#
# ------------------------------------------------------------------------------
ora_profile::database::dbname:                                            DB180
ora_profile::database::version:                                           18.0.0.0
ora_profile::database::oracle_home:                                       /u01/app/oracle/product/%{lookup('ora_profile::database::version')}/db_home1
ora_profile::database::cis_controls::db_version:                          db18c  # This works on all versions


# ------------------------------------------------------------------------------
#
#  Settings for database::db_software
#
# ------------------------------------------------------------------------------
ora_profile::database::db_software::database_type:                        EE
ora_profile::database::db_software::file_name:                            LINUX.X64_180000_db_home
ora_profile::database::db_software::dirs:
- /u01/app/oracle/product
- "/u01/app/oracle/product/%{lookup('ora_profile::database::version')}"
- /u01/backup
- /u01/backup/DB180


# ------------------------------------------------------------------------------
#
#  Settings for database::db_patches
#
# ------------------------------------------------------------------------------
ora_profile::database::db_patches::level:                                 APR2021RU
ora_profile::database::db_patches::include_ojvm:                          true
ora_profile::database::db_patches::opversion:                             12.2.0.1.33


# ------------------------------------------------------------------------------
#
#  Settings for database::db_definition
#
# ------------------------------------------------------------------------------


# ------------------------------------------------------------------------------
#
#  Settings for database::rman_config
#
# ------------------------------------------------------------------------------
ora_profile::database::rman_config::settings:
  DB180:
    archivelog_backup_copies:
      DISK: '1'
    backup_optimization: 'ON'
    controlfile_autobackup: 'ON'
    controlfile_autobackup_format:
      DISK: '/u03/backup/DB180/%F'
    device:
      DISK: 'PARALLELISM 2 BACKUP TYPE TO COMPRESSED BACKUPSET'
    maxsetsize: 32G


# ------------------------------------------------------------------------------
#
#  Settings for database::db_listener
#
# ------------------------------------------------------------------------------
ora_profile::database::db_listener::sqlnet_version:                       '18.0'
